Java对象的生命周期

如果希望一个Java对象一直处于生命周期中, 就必须保证至少有一个变量引用它, 或者在一个Java集合中存放了这个对象的引用

Session的缓存

Session对象中维护的缓存即称为Hibernate的一级缓存

在Session接口的实现类中定义了一些列的Java集合, 这些Java集合构成了Session的缓存

Session中的缓存中存放着一些列的持久化对象

<br>

### Hibernate对象的三种状态

###### 被一个Session对象关联
###### 持久化对象和数据库中的相关记录对应
###### Session在清理缓存时会根据持久化对象的属性变化来同步更新数据库

#### 游离状态(detached)
对象已经被持久化, 但是不再处于Session缓存中, 处于游离状态的Java对象被称为游离对象

特征
###### 不再位于Session缓存中, 也可以说, 游离对象不被Session关联
###### 游离对象是由持久化对象转变过来的, 因此在数据库中可能还存在与它对应的记录(前提脚尖是没有其它程序删除了这条记录)
###### 游离对象与临时对象的相同之处在于, 两者都不被Session关联, 因此Hibernate不会保证它们的属性发生变化与数据库保持同步
###### 游离对象与临时对象的区别在于, 前者是由持久化对象转变过来的, 因此可能在数据库中还存在着对应的记录, 而后者在数据库中没有对应的记录
